<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="平凡之路">
<meta property="og:url" content="http://liaolushen.github.io/index.html">
<meta property="og:site_name" content="平凡之路">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="平凡之路">
<meta name="twitter:description">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

  <title> 平凡之路 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">平凡之路</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/11/Linux系统下-etc-init-和-etc-init-d-的区别/" itemprop="url">
                Linux系统下/etc/init/和/etc/init.d/的区别
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-09-11T01:37:28+08:00" content="2015-09-11">
            2015-09-11
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/服务器配置/" itemprop="url" rel="index">
                  <span itemprop="name">服务器配置</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="问题发现">问题发现</h2><p>今天在给ubuntu系统安装ftp服务时，一件奇怪的事引起了我的注意。当我服务安装完成后，想要测试一下是否能控制服务，便输入如下命令：</p>
<pre><code><span class="title">service</span> vsftpd restart
</code></pre><p>它返回的信息是：</p>
<pre><code><span class="string">stop:</span> Unknown <span class="string">job:</span> vsftpd
<span class="string">start:</span> Unknown <span class="string">job:</span> vsftpd
</code></pre><p>另外甚至在<b>/etc/init.d/文件夹</b>中都没有发现vsftpd的启动脚本。</p>
<p>之后我google后在service命令前加了sudo，命令如下:</p>
<pre><code><span class="title">sudo</span> service vsftpd restart
</code></pre><p>结果成功运行。</p>
<p>现在虽然ftp能够正常的启动和终止，但是另一个疑问没有解决，service不是调用/etc/init.d/文件夹里的启动脚本的吗，然而/etc/init.d/中并没有vsftpd这个脚本，为什么还能够运行？我通过man命令查看了一下service指令的信息，果然发现了一些端倪，里面是这样讲的</p>
<blockquote>
<p>The  SCRIPT  parameter specifies a System V init script, located in /etc/init.d/SCRIPT, or the name of an upstart job in /etc/init.</p>
</blockquote>
<p>于是我在/etc/init文件夹中果然发现了vsftpd.conf这个文件。但是又有奇怪的事情出现了，查看/etc/init/文件夹中许多文件是和/etc/init.d/文件夹中重复的，比如mysql。那么这两个文件夹有什么区别吗？</p>
<h2 id="寻求答案">寻求答案</h2><p>这种东西当然是寻求google的帮助最快了。果然很快就找到了一位外国大神的答案。他是这么说的：</p>
<blockquote>
<p>/etc/init.d contains scripts used by the System V init tools (SysVinit). This is the traditional service management package for Linux, containing the init program (the first process that is run when the kernel has finished initializing¹) as well as some infrastructure to start and stop services and configure them. Specifically, files in /etc/init.d are shell scripts that respond to start, stop, restart, and (when supported) reload commands to manage a particular service. These scripts can be invoked directly or (most commonly) via some other trigger (typically the presence of a symbolic link in /etc/rc?.d/).</p>
<p>/etc/init contains configuration files used by Upstart. Upstart is a young service management package championed by Ubuntu. Files in /etc/init are configuration files telling Upstart how and when to start, stop, reload the configuration, or query the status of a service. As of lucid, Ubuntu is transitioning from SysVinit to Upstart, which explains why many services come with SysVinit scripts even though Upstart configuration files are preferred. In fact, the SysVinit scripts are processed by a compatibility layer in Upstart.</p>
</blockquote>
<p>简而言之，/etc/init.d/就是旧时代liunx的用法，/etc/init/是现在Ubuntu的提倡并一步步转型的用法。为了平缓过渡，便让service命令可以同时寻找到两个文件夹。</p>
<h2 id="问题思考">问题思考</h2><p>问题到这貌似解决了，但是感觉还差些什么。</p>
<p>在查看service命令时，是这么介绍的：</p>
<blockquote>
<p>service - run a System V init script</p>
</blockquote>
<p>没错，service这个命令一开始就是用在SysVinit上的，为了支持Upstart才额外增加了启动/etc/init/文件夹，那么如何使用Upstart启动服务呢。最后查看Upstart的文档，当我要重启mysql时。我只需要输入如下命令：</p>
<pre><code><span class="title">sudo</span> restart mysql
</code></pre><p>而且Upstart的启动配置文件确实简单很多。</p>
<h2 id="问题总结">问题总结</h2><p>其实这两个文件夹的区别也就是服务启动方式的区别，目前有三种启动方式。(例如我启动mysql服务)</p>
<p>1.只从/etc/init.d/文件夹启动：</p>
<pre><code>/etc/init.d/mysql <span class="built_in">start</span>
</code></pre><p>2.只从/etc/init/文件夹启动(Ubuntu提倡)：</p>
<pre><code>sudo <span class="built_in">start</span> mysql
</code></pre><p>3.从两个文件夹中启动：</p>
<pre><code>service <span class="built_in">start</span> mysql
</code></pre></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/07/如何在Ubunutu配置Apache虚拟主机/" itemprop="url">
                Ubunutu下Apache配置私人目录
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-09-07T12:00:34+08:00" content="2015-09-07">
            2015-09-07
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/服务器配置/" itemprop="url" rel="index">
                  <span itemprop="name">服务器配置</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><blockquote>
<p>在Ubuntu中apache的默认目录为/var/www/html/,而该目录的操作是需要root权限的。能不能额外增加端口，然后工作目录设置为自己的私人目录呢？当然是可以的！</p>
</blockquote>
<h2 id="添加端口">添加端口</h2><p>打开/etc/apache2/ports.conf</p>
<pre><code>sudo <span class="keyword">vi</span> /etc/apache2/ports.<span class="keyword">conf</span>
</code></pre><p>添加一个端口，如下所示：</p>
<pre><code><span class="keyword"><span class="common">Listen</span></span> 80
<span class="keyword"><span class="common">Listen</span></span> 8080

<span class="tag">&lt;IfModule ssl_module&gt;</span>
    <span class="keyword"><span class="common">Listen</span></span> 443
<span class="tag">&lt;/IfModule&gt;</span>

<span class="tag">&lt;IfModule mod_gnutls.c&gt;</span>
    <span class="keyword"><span class="common">Listen</span></span> 443
<span class="tag">&lt;/IfModule&gt;</span>
</code></pre><h2 id="添加配置文件">添加配置文件</h2><p>在/etc/apache2/sites-avavilble目录下添加一个配置文件。可以直接复制该目录下的000-default.conf文件：</p>
<pre><code>sudo cp <span class="regexp">/etc/</span>apache2<span class="regexp">/sites-available/</span><span class="number">000</span>-<span class="keyword">default</span>.conf <span class="regexp">/etc/</span>apache2<span class="regexp">/sites-available/my</span>.conf
</code></pre><p>VirtualHost <em>:80改为VirtualHost </em>:8080</p>
<p>DocumentRoot /var/www/html 改为自己的目录</p>
<h2 id="使配置文件生效">使配置文件生效</h2><p>将my.conf 软链到sites-enabled</p>
<pre><code>sudo ln -s <span class="regexp">/etc/</span>apache2<span class="regexp">/sites-available/my</span>.conf <span class="regexp">/etc/</span>apache2<span class="regexp">/sites-enabled/my</span>.conf
</code></pre><p>重启apache</p>
<pre><code><span class="title">sudo</span> service apache2 restart
</code></pre></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/09/07/Sublime-Text3-报错-There-are-no-packages-available-for-installation/" itemprop="url">
                Sublime Text3 报错 There are no packages available for installation
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2015-09-07T01:18:36+08:00" content="2015-09-07">
            2015-09-07
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/工具使用/" itemprop="url" rel="index">
                  <span itemprop="name">工具使用</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><blockquote>
<p>今天想用sublime安装插件时，发现了这个报错，于是开始网上查找问题解决方法，最后总算解决。</p>
</blockquote>
<h2 id="问题原因">问题原因</h2><p>其实原因非常简单，查看了sublime作者的github上的issue之后，我试了下登陆sublime的package资源网站<a href="https://packagecontrol.io/" target="_blank" rel="external">https://packagecontrol.io/</a>，发现果然是无法进入，开启代理之后成功打开，最终确定罪魁祸首是<a href="https://zh.wikipedia.org/wiki/%E9%98%B2%E7%81%AB%E9%95%BF%E5%9F%8E" target="_blank" rel="external">GFW</a>。</p>
<h2 id="问题解决">问题解决</h2><p>确定问题后，解决方法就有很多了。你也改代理之类的，网上教程很多。我的方法是设置自己的代理上网。<br>在preferences-&gt;Setting-User加上如下语句</p>
<pre><code><span class="string">"http_proxy"</span>: <span class="string">"http://127.0.0.1:1080"</span>
</code></pre><p>这里改成你自己的上网代理端口即可。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
 </div>

        

        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="廖卢神" itemprop="image"/>
          <p class="site-author-name" itemprop="name">廖卢神</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">廖卢神</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
